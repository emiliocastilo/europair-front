<button color="primary" class="cmd-mb-2" mat-raised-button [routerLink]="getReturnRoute()">
  {{ "COMMON.RETURN" | translate }}
</button>
<ng-container *ngIf="routeData$ | async as routeData">
  <core-page-bar [pageTitle]="routeData?.title"></core-page-bar>
  <core-button-bar
    [barButtons]="barButtons"
    [itemsSelectedCount]="1"
    (executeAction)="onBarButtonClicked($event)">
  </core-button-bar>
  <ul class="collapsible" [appMatCollapsible]="{ state: 'open'}">
    <li>
      <div class="collapsible-header"><i class="material-icons">keyboard_arrow_down</i>Datos generales</div>
      <div class="collapsible-body">
        <app-airport-general-data
          [generalDataForm]="generalDataForm"
          (specialConditionsChanged)="onSpecialConditionsChanged($event)">
        </app-airport-general-data>
      </div>
    </li>
  </ul>
  <ng-container *ngIf="routeData?.isAirportDetail">
    <ul class="collapsible" [appMatCollapsible]="{ state: 'closed'}">
      <li>
        <div class="collapsible-header"><i class="material-icons">keyboard_arrow_down</i>Pistas</div>
        <div class="collapsible-body">
          <app-airport-runways></app-airport-runways>
        </div>
      </li>
    </ul>
    <ul class="collapsible" [appMatCollapsible]="{ state: 'closed'}">
      <li>
        <div class="collapsible-header"><i class="material-icons">keyboard_arrow_down</i>Terminales</div>
        <div class="collapsible-body">
          <app-airport-terminals></app-airport-terminals>
        </div>
      </li>
    </ul>
    <ul class="collapsible" [appMatCollapsible]="{ state: 'closed'}" *ngIf="hasAirportSpecialConditions">
      <li>
        <div class="collapsible-header"><i class="material-icons">keyboard_arrow_down</i>Operadores certificados</div>
        <div class="collapsible-body">
          <app-airport-certified-operators></app-airport-certified-operators>
        </div>
      </li>
    </ul>
    <ul class="collapsible" [appMatCollapsible]="{ state: 'closed'}">
      <li>
        <div class="collapsible-header"><i class="material-icons">keyboard_arrow_down</i>Regiones</div>
        <div class="collapsible-body">
          <app-airport-regions></app-airport-regions>
        </div>
      </li>
    </ul>
    <ul class="collapsible" [appMatCollapsible]="{ state: 'closed'}">
      <li>
        <div class="collapsible-header"><i class="material-icons">keyboard_arrow_down</i>Observaciones</div>
        <div class="collapsible-body">
          <app-airport-observations></app-airport-observations>
        </div>
      </li>
    </ul>
  </ng-container>
</ng-container>

<core-modal> 
  <ng-container content>
    <section class="modal-header">
      <h4>Confirmar eliminación</h4>
      <a class="waves-effect btn-flat modal-close europair-button-blue-1">
        <i class="material-icons right">close</i>
        Cancelar
      </a>
    </section>
    <section class="modal-body">
      <p>¿Está seguro que desea eliminar el aeropuerto <b>{{airportData?.name}}</b>?</p>
    </section>
  </ng-container>
  <ng-container footer>
    <a class="btn modal-close waves-effect europair-icon-blue-1 cmd-w-100" (click)="onConfirmDeleteAirport()">
      <i class="material-icons">check_circle</i>
      <span class="full-width-btn-text">Confirmar</span>
    </a>
  </ng-container>
</core-modal>